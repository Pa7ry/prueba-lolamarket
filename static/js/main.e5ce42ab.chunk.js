(this["webpackJsonpprueba-lolamarket"]=this["webpackJsonpprueba-lolamarket"]||[]).push([[0],{120:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a(11),i=(a(33),a(120),a(179)),o=a(180),s=a(96),d=a(37),l=a(16),j=a(104),u=a(208),b=Object(j.a)({}),p=Object(u.a)(b),O=a(69),h=a(25),x=a.n(h),g=a(46),m=a(36),v=a(102),f=a.n(v),k=a(103),y=a.n(k),S=f.a.create({baseURL:"https://api.comprea.com/v7",paramsSerializer:function(e){return y.a.stringify(e,{arrayFormat:"comma"})}}),w=function(e,t){return S.get(e,{params:t}).then((function(e){return e.data}))},C=Object(O.b)({name:"app",initialState:{data:{isSideBarOpen:!1,isDialogOpen:{show:!1,dialogMsg:""}},asyncLoading:!1,asyncError:""},reducers:{asyncStart:function(e){return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!0})},asyncSuccess:function(e,t){var a=t.payload;return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!1,data:Object(m.a)(Object(m.a)({},e.data),a)})},asyncError:function(e,t){var a=t.payload;return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!1,asyncError:a})}}}),D=C.actions,L=D.asyncStart,I=D.asyncSuccess,E=D.asyncError,M=C.reducer,B=function(e){return e.appStore},P=function(){return function(){var e=Object(g.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),n=a(),e.prev=2,e.next=5,w("/user/postalcode",{token:n.appStore.data.token,postalcode:n.appStore.data.postalCode});case 5:if("OK"!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({markets:r})));case 10:throw r.error.message;case 11:e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}})),t(T({postalCode:""})),t(T({marketSelected:""}));case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a(I(e))}catch(n){a(E(n))}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=Object(O.a)({reducer:{appStore:M}}),F=function(e){var t=e.children;return Object(n.jsx)(s.a,{theme:p,children:Object(n.jsxs)(i.a,{theme:p,children:[Object(n.jsx)(o.a,{}),Object(n.jsx)(l.a,{store:A,children:Object(n.jsx)(d.a,{children:t})})]})})},K=a(18),R=a(10),_=a(183),q=a(184),z=a(185),H=a(51),N=a(206),U={home:"/",marketList:"/tienda",marketId:"/tienda/:id",productList:"/tienda/:id/:categoryId/:subcategoryId",categoryProductList:"/tienda/:id/:categoryId/"},J=a(13),V=R.a.div({margin:15,padding:7,border:"solid 3px #3f51b5",display:"flex",width:"fit-content",borderRadius:7,boxShadow:"0 0 450px #f50057"}),$=Object(R.a)(_.a)({height:48}),G=Object(R.a)(q.a)({height:"calc(100vh - 86px)"}),Q=Object(R.a)(z.a)({width:"100%",backgroundSize:"contain"}),W=function(){var e=Object(J.g)(),t=Object(l.b)(),a=Object(r.useState)(""),c=Object(K.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){t(function(){var e=Object(g.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),e.prev=1,e.next=4,w("/user/session");case 4:if("OK"!==(a=e.sent).status){e.next=9;break}return e.abrupt("return",t(I({token:a.token})));case 9:throw a.error.message;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(n.jsxs)(G,{container:!0,justify:"center",children:[Object(n.jsxs)(q.a,{container:!0,direction:"column",justify:"center",alignItems:"center",item:!0,sm:6,xs:12,children:[Object(n.jsxs)(H.a,{variant:"h2",align:"center",children:["\xa1Qu\xe9date en casa! ",Object(n.jsx)("br",{})," Nosotros te ",Object(n.jsx)("br",{})," hacemos la compra"]}),Object(n.jsxs)(V,{children:[Object(n.jsx)(N.a,{id:"outlined-basic",label:"C\xf3digo postal",required:!0,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)($,{variant:"contained",color:"secondary",disabled:!i.length||!/^[0-9]{5}$/.test(i),onClick:function(){t(T({postalCode:i})),t(P()),e.push(U.marketList)},children:"\xa1HACER LA COMPRA!"})]})]}),Object(n.jsx)(q.a,{container:!0,item:!0,sm:6,xs:12,children:Object(n.jsx)(Q,{className:"Comprar",src:window.window.screen.width<450?"/shop-mobile.png":"/shop-desktop.png",title:"shopping"})})]})},X=a(189),Y=a(190),Z=a(191),ee=R.a.div({display:"flex",alignItems:"center",justifyContent:"center",padding:18}),te=Object(R.a)(X.a)({width:"100%",minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",cursor:"pointer"}),ae=Object(R.a)(q.a)({"&:hover":{boxShadow:"0 1px 8px #b5b5b5"},"&:active":{boxShadow:"inset 0 0 12px #b5b5b5"}}),ne=R.a.div({padding:"25px 50px"}),re=Object(R.a)(Y.a)({width:"100%",padding:"0 16px 16px"}),ce=Object(R.a)(q.a)({height:"80vh"}),ie=function(){var e,t,a=Object(l.b)(),r=Object(J.g)(),c=Object(l.c)(B).data,i=function(e,t){a(T({marketSelected:t})),a(function(){var e=Object(g.a)(x.a.mark((function e(t,a){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),n=a(),e.prev=2,e.next=5,w("/company/categories",{token:n.appStore.data.token,company_id:null===(r=n.appStore.data.marketSelected)||void 0===r?void 0:r.id});case 5:if("OK"!==(c=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({marketCategories:c})));case 10:throw c.error.message;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()),r.push("/tienda/".concat(t.shortcut));var n=document.getElementsByClassName("MuiCard-root");Array.from(n).forEach((function(e){return e.style.boxShadow="none"})),e.currentTarget.style.boxShadow="0 0 0 2px rgb(".concat("255,255,255"!==t.color?t.color:"61,86,186",")")};return"OK"===(null===(e=c.markets)||void 0===e?void 0:e.status)?Object(n.jsxs)(ne,{children:[Object(n.jsx)(H.a,{variant:"h4",align:"center",paragraph:!0,children:"\xbfD\xf3nde quieres comprar?"}),Object(n.jsx)(q.a,{container:!0,spacing:3,children:null===(t=c.markets)||void 0===t?void 0:t.services.map((function(e){return e.markets.map((function(t){return Object(n.jsx)(ae,{container:!0,item:!0,lg:2,md:3,sm:6,xs:12,children:Object(n.jsxs)(te,{onClick:function(e){i(e,t)},children:[Object(n.jsx)(ee,{children:Object(n.jsx)("img",{alt:t.name,src:t.logotype})}),Object(n.jsx)(re,{children:Object(n.jsx)(H.a,{color:"textSecondary",align:"right",variant:"subtitle2",children:e.delivery})})]})},t.id)}))}))})]}):Object(n.jsx)(ce,{container:!0,justify:"center",alignContent:"center",children:Object(n.jsxs)(H.a,{align:"center",variant:"h4",children:[Object(n.jsx)(Z.a,{color:"secondary"}),"Cargando..."]})})},oe=a(210),se=a(192),de=R.a.div({padding:"50px"}),le=Object(R.a)(q.a)({padding:"50px 0 30px"}),je=Object(R.a)(H.a)({width:"95%",borderBottom:"1px solid #6ad76e"}),ue=Object(R.a)(q.a)({padding:"0 50px"}),be=Object(R.a)(X.a)({width:"100%",padding:15,cursor:"pointer"}),pe=Object(R.a)(z.a)({height:140,backgroundSize:"contain"}),Oe=Object(R.a)(Y.a)({paddingTop:30}),he=Object(R.a)(q.a)({height:"80vh"}),xe=function(){var e=Object(J.h)(),t=Object(l.b)(),a=function(e,a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(le,{container:!0,alignItems:"center",children:[Object(n.jsx)(oe.a,{src:e.icon}),Object(n.jsx)(je,{variant:"h6",children:e.name})]}),Object(n.jsx)(ue,{container:!0,spacing:3,children:a.map((function(e){return Object(n.jsx)(q.a,{container:!0,item:!0,lg:2,md:3,sm:6,xs:12,direction:"column",alignItems:"center",children:Object(n.jsx)(be,{onClick:function(){return a=e.description,void t(T({isDialogOpen:{show:!0,dialogMsg:a,dialogTitle:"PRODUCTO"}}));var a},children:Object(n.jsxs)(se.a,{children:[Object(n.jsx)(pe,{title:e.name,image:e.picture}),Object(n.jsxs)(Oe,{children:[Object(n.jsxs)(H.a,{align:"right",children:[e.price," \u20ac"]}),Object(n.jsx)("div",{children:Object(n.jsx)(H.a,{align:"left",children:e.name})})]})]})})})}))})]})};return e.state?Object(n.jsx)(de,{children:e.state.categories?e.state.categories.map((function(e){return a(e,e.items)})):a(e.state.items[0].category,e.state.items)}):Object(n.jsx)(he,{container:!0,justify:"center",alignContent:"center",children:Object(n.jsxs)(H.a,{align:"center",variant:"h4",children:[Object(n.jsx)(Z.a,{color:"secondary"}),"Cargando..."]})})},ge=function(){return Object(n.jsxs)(J.d,{children:[Object(n.jsx)(J.b,{exact:!0,path:U.home,children:Object(n.jsx)(W,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.marketList,children:Object(n.jsx)(ie,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.marketId,children:Object(n.jsx)(ie,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.productList,children:Object(n.jsx)(xe,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.categoryProductList,children:Object(n.jsx)(xe,{})}),Object(n.jsx)(J.a,{to:U.home})]})},me=a(193),ve=a(194),fe=a(187),ke=a(209),ye=a(186),Se=Object(R.a)(me.a)({display:"flex",justifyContent:"space-between"}),we=Object(R.a)(oe.a)({height:35,width:35}),Ce=function(){var e,t,a,r,c=Object(l.b)(),i=Object(l.c)(B).data,o=function(){var e;return"255,255,255"!==(null===(e=i.marketSelected)||void 0===e?void 0:e.color)?{color:"white"}:{color:"black"}};return Object(n.jsx)(ve.a,{position:"sticky",style:{background:"rgb(".concat(null===(e=i.marketSelected)||void 0===e?void 0:e.color,")")},children:Object(n.jsxs)(Se,{color:"inherit",children:[Object(n.jsx)("div",{children:i.marketSelected&&Object(n.jsx)(_.a,{variant:"contained",startIcon:Object(n.jsx)(we,{alt:null===(t=i.marketSelected)||void 0===t?void 0:t.name,src:null===(a=i.marketSelected)||void 0===a?void 0:a.icon}),onClick:function(){return c(T({isSideBarOpen:!0}))},children:Object(n.jsx)(H.a,{variant:"h6",children:"CATEGOR\xcdAS"})})}),i.postalCode&&Object(n.jsxs)(fe.a,{children:[Object(n.jsx)(ke.a,{style:o(),htmlFor:"edit-postalCode",children:null===(r=i.markets)||void 0===r?void 0:r.city.toUpperCase()}),Object(n.jsx)(ye.a,{color:"secondary",style:o(),id:"edit-postalCode",defaultValue:i.postalCode,required:!0,onChange:function(e){return t=e.target.value,/^[0-9]{5}$/.test(t)&&function(e){c(T({postalCode:e})),c(P())}(e.target.value);var t}})]})]})})},De=a(207),Le=a(188),Ie=a(195),Ee=a(196),Me=a(198),Be=a(199),Pe=a(197),Te=a(200),Ae=Object(R.a)(Le.a)({background:"#f5f5f5"}),Fe=Object(R.a)(Ie.a)({"&:hover":{background:"#f5f5f5"},"&:active":{background:"#4fd0531a"}}),Ke=R.a.div({display:"flex",flexDirection:"column",padding:"0 8px 0 4px"}),Re=Object(R.a)(H.a)({lineHeight:1,paddingLeft:10}),_e=Object(R.a)(oe.a)({height:24,width:24}),qe=Object(R.a)(De.a)({width:"21.7%"}),ze=Object(R.a)(Ee.a)({padding:"0 7px"}),He=function(){var e,t,a,c,i,o,s=Object(J.g)(),d=Object(l.b)(),j=Object(l.c)(B).data,u=Object(r.useState)(!1),b=Object(K.a)(u,2),p=b[0],O=b[1],h=Object(r.useState)(0),m=Object(K.a)(h,2),v=m[0],f=m[1],k=Object(r.useState)(0),y=Object(K.a)(k,2),S=y[0],C=y[1],D=function(e,t,a){var n;t?Promise.resolve(d((n=a,function(){var e=Object(g.a)(x.a.mark((function e(t,a){var r,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),r=a(),e.prev=2,e.next=5,w("/company/items",{token:r.appStore.data.token,company_id:null===(c=r.appStore.data.marketSelected)||void 0===c?void 0:c.id,category_id:n});case 5:if("OK"!==(i=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({products:i})));case 10:throw i.error.message;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()))).then((function(a){var n;return s.push("/tienda/".concat(null===(n=j.marketSelected)||void 0===n?void 0:n.shortcut,"/").concat(e,"/").concat(t),a.payload.products)})):Promise.resolve(d(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a,n){var r,c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(L()),r=n(),t.prev=2,t.next=5,w("/company/featured",{token:r.appStore.data.token,company_id:null===(c=r.appStore.data.marketSelected)||void 0===c?void 0:c.id,category_id:e});case 5:if("OK"!==(i=t.sent).status){t.next=10;break}return t.abrupt("return",a(I({categoryProducts:i})));case 10:throw i.error.message;case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),a(E(t.t0)),a(T({isDialogOpen:{show:!0,dialogMsg:t.t0}}));case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(v))).then((function(t){var a;return s.push("/tienda/".concat(null===(a=j.marketSelected)||void 0===a?void 0:a.shortcut,"/").concat(e),t.payload.categoryProducts)})),d(T({isSideBarOpen:!1}))};return Object(n.jsx)(n.Fragment,{children:"OK"===(null===(e=j.marketCategories)||void 0===e?void 0:e.status)&&Object(n.jsxs)(qe,{open:j.isSideBarOpen,onClose:function(){return d(T({isSideBarOpen:!1}))},children:[Object(n.jsx)(ve.a,{position:"sticky",style:{backgroundColor:"rgb(".concat(null===(t=j.marketSelected)||void 0===t?void 0:t.color,")")},children:Object(n.jsxs)(me.a,{style:function(){var e;return"255,255,255"!==(null===(e=j.marketSelected)||void 0===e?void 0:e.color)?{color:"white"}:{color:"black"}}(),children:[Object(n.jsx)(_e,{alt:null===(a=j.marketSelected)||void 0===a?void 0:a.name,src:null===(c=j.marketSelected)||void 0===c?void 0:c.icon}),Object(n.jsxs)(Ke,{children:[Object(n.jsx)(Re,{variant:"h6",children:null===(i=j.marketSelected)||void 0===i?void 0:i.name}),Object(n.jsxs)(Re,{variant:"caption",children:["Comprando en ",j.postalCode]})]}),Object(n.jsx)(_.a,{variant:"contained",onClick:function(){d(T({isSideBarOpen:!1})),s.push(U.marketList)},children:"Cambiar"})]})}),Object(n.jsx)("div",{role:"presentation",children:Object(n.jsx)(Le.a,{children:null===(o=j.marketCategories)||void 0===o?void 0:o.categories.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Fe,{disableRipple:!0,button:!0,onClick:function(){O(!p),f(v===e.id?0:e.id)},children:[Object(n.jsx)(_e,{alt:e.name,src:e.icon}),Object(n.jsx)(ze,{primary:e.name}),e.id===v&&Object(n.jsx)(Pe.a,{color:"action"})]},e.id),Object(n.jsx)(Me.a,{variant:"middle"},"divider"+e.id),Object(n.jsx)(Be.a,{in:e.id===v,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ae,{disablePadding:!0,children:[Object(n.jsxs)(Ie.a,{button:!0,onClick:function(){D(e.shortcut,"",e.id),C(e.id)},children:[Object(n.jsx)(Ee.a,{primary:"Ver toda la secci\xf3n"}),S===e.id&&Object(n.jsx)(Te.a,{color:"action"})]}),Object(n.jsx)(Me.a,{variant:"middle"}),e.categories.map((function(t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ie.a,{button:!0,onClick:function(){D(e.shortcut,t.shortcut,t.id),C(t.id)},children:[Object(n.jsx)(_e,{alt:t.name,src:t.icon}),Object(n.jsx)(ze,{primary:t.name}),t.id===S&&Object(n.jsx)(Te.a,{color:"action"})]},t.id),Object(n.jsx)(Me.a,{variant:"middle"})]})}))]})},e.id+1e3)]})}))})})]})})},Ne=a(201),Ue=a(202),Je=a(203),Ve=a(204),$e=a(205),Ge=function(){var e,t,a=Object(J.g)(),r=Object(l.b)(),c=Object(l.c)(B).data,i=function(){!c.isDialogOpen.dialogTitle&&a.push(U.home),r(T({isDialogOpen:{show:!1,dialogMsg:"",dialogTitle:void 0}}))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ne.a,{open:c.isDialogOpen.show,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"alert-dialog-title",children:null===c||void 0===c||null===(e=c.isDialogOpen)||void 0===e?void 0:e.dialogTitle}),Object(n.jsx)(Je.a,{children:Object(n.jsx)(Ve.a,{id:"alert-dialog-description",children:null===c||void 0===c||null===(t=c.isDialogOpen)||void 0===t?void 0:t.dialogMsg})}),Object(n.jsx)($e.a,{children:Object(n.jsx)(_.a,{onClick:i,color:"primary",children:"Aceptar"})})]})})},Qe=function(){return Object(n.jsxs)(F,{children:[Object(n.jsx)(Ce,{}),Object(n.jsx)(He,{}),Object(n.jsx)(Ge,{}),Object(n.jsx)(ge,{})]})},We=document.getElementById("root");Object(c.render)(Object(n.jsx)(Qe,{}),We)}},[[146,1,2]]]);
//# sourceMappingURL=main.e5ce42ab.chunk.js.map