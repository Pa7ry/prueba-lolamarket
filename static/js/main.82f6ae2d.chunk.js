(this["webpackJsonpprueba-lolamarket"]=this["webpackJsonpprueba-lolamarket"]||[]).push([[0],{120:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a(11),i=(a(33),a(120),a(179)),o=a(180),s=a(96),d=a(37),l=a(16),j=a(104),u=a(208),b=Object(j.a)({}),p=Object(u.a)(b),O=a(69),h=a(25),x=a.n(h),g=a(46),m=a(36),v=a(102),f=a.n(v),k=a(103),y=a.n(k),S=f.a.create({baseURL:"https://api.comprea.com/v7",paramsSerializer:function(e){return y.a.stringify(e,{arrayFormat:"comma"})}}),w=function(e,t){return S.get(e,{params:t}).then((function(e){return e.data}))},C=Object(O.b)({name:"app",initialState:{data:{isSideBarOpen:!1,isDialogOpen:{show:!1,dialogMsg:""}},asyncLoading:!1,asyncError:""},reducers:{asyncStart:function(e){return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!0})},asyncSuccess:function(e,t){var a=t.payload;return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!1,data:Object(m.a)(Object(m.a)({},e.data),a)})},asyncError:function(e,t){var a=t.payload;return Object(m.a)(Object(m.a)({},e),{},{asyncLoading:!1,asyncError:a})}}}),D=C.actions,L=D.asyncStart,I=D.asyncSuccess,E=D.asyncError,M=C.reducer,B=function(e){return e.appStore},P=function(){return function(){var e=Object(g.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),n=a(),e.prev=2,e.next=5,w("/user/postalcode",{token:n.appStore.data.token,postalcode:n.appStore.data.postalCode});case 5:if("OK"!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({markets:r})));case 10:throw r.error.message;case 11:e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}})),t(T({postalCode:""})),t(T({marketSelected:""}));case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a(I(e))}catch(n){a(E(n))}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=Object(O.a)({reducer:{appStore:M}}),F=function(e){var t=e.children;return Object(n.jsx)(s.a,{theme:p,children:Object(n.jsxs)(i.a,{theme:p,children:[Object(n.jsx)(o.a,{}),Object(n.jsx)(l.a,{store:A,children:Object(n.jsx)(d.a,{children:t})})]})})},K=a(18),R=a(10),_=a(183),q=a(184),z=a(185),H=a(51),N=a(206),U={home:"/",marketList:"/tienda",marketId:"/tienda/:id",productList:"/tienda/:id/:categoryId/:subcategoryId",categoryProductList:"/tienda/:id/:categoryId/"},J=a(13),V=a.p+"static/media/shop-desktop.22b2e777.png",$=a.p+"static/media/shop-mobile.2bb48685.png",G=R.a.div({margin:15,padding:7,border:"solid 3px #3f51b5",display:"flex",width:"fit-content",borderRadius:7,boxShadow:"0 0 450px #f50057"}),Q=Object(R.a)(_.a)({height:48}),W=Object(R.a)(q.a)({height:"calc(100vh - 86px)"}),X=Object(R.a)(z.a)({width:"100%",backgroundSize:"contain"}),Y=function(){var e=Object(J.g)(),t=Object(l.b)(),a=Object(r.useState)(""),c=Object(K.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){console.log(V),t(function(){var e=Object(g.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),e.prev=1,e.next=4,w("/user/session");case 4:if("OK"!==(a=e.sent).status){e.next=9;break}return e.abrupt("return",t(I({token:a.token})));case 9:throw a.error.message;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(n.jsxs)(W,{container:!0,justify:"center",children:[Object(n.jsxs)(q.a,{container:!0,direction:"column",justify:"center",alignItems:"center",item:!0,sm:6,xs:12,children:[Object(n.jsxs)(H.a,{variant:"h2",align:"center",children:["\xa1Qu\xe9date en casa! ",Object(n.jsx)("br",{})," Nosotros te ",Object(n.jsx)("br",{})," hacemos la compra"]}),Object(n.jsxs)(G,{children:[Object(n.jsx)(N.a,{id:"outlined-basic",label:"C\xf3digo postal",required:!0,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)(Q,{variant:"contained",color:"secondary",disabled:!i.length||!/^[0-9]{5}$/.test(i),onClick:function(){t(T({postalCode:i})),t(P()),e.push(U.marketList)},children:"\xa1HACER LA COMPRA!"})]})]}),Object(n.jsx)(q.a,{container:!0,item:!0,sm:6,xs:12,children:Object(n.jsx)(X,{className:"Comprar",image:window.window.screen.width<450?$:V,title:"shopping"})})]})},Z=a(189),ee=a(190),te=a(191),ae=R.a.div({display:"flex",alignItems:"center",justifyContent:"center",padding:18}),ne=Object(R.a)(Z.a)({width:"100%",minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",cursor:"pointer"}),re=Object(R.a)(q.a)({"&:hover":{boxShadow:"0 1px 8px #b5b5b5"},"&:active":{boxShadow:"inset 0 0 12px #b5b5b5"}}),ce=R.a.div({padding:"25px 50px"}),ie=Object(R.a)(ee.a)({width:"100%",padding:"0 16px 16px"}),oe=Object(R.a)(q.a)({height:"80vh"}),se=function(){var e,t,a=Object(l.b)(),r=Object(J.g)(),c=Object(l.c)(B).data,i=function(e,t){a(T({marketSelected:t})),a(function(){var e=Object(g.a)(x.a.mark((function e(t,a){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),n=a(),e.prev=2,e.next=5,w("/company/categories",{token:n.appStore.data.token,company_id:null===(r=n.appStore.data.marketSelected)||void 0===r?void 0:r.id});case 5:if("OK"!==(c=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({marketCategories:c})));case 10:throw c.error.message;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()),r.push("/tienda/".concat(t.shortcut));var n=document.getElementsByClassName("MuiCard-root");Array.from(n).forEach((function(e){return e.style.boxShadow="none"})),e.currentTarget.style.boxShadow="0 0 0 2px rgb(".concat("255,255,255"!==t.color?t.color:"61,86,186",")")};return"OK"===(null===(e=c.markets)||void 0===e?void 0:e.status)?Object(n.jsxs)(ce,{children:[Object(n.jsx)(H.a,{variant:"h4",align:"center",paragraph:!0,children:"\xbfD\xf3nde quieres comprar?"}),Object(n.jsx)(q.a,{container:!0,spacing:3,children:null===(t=c.markets)||void 0===t?void 0:t.services.map((function(e){return e.markets.map((function(t){return Object(n.jsx)(re,{container:!0,item:!0,lg:2,md:3,sm:6,xs:12,children:Object(n.jsxs)(ne,{onClick:function(e){i(e,t)},children:[Object(n.jsx)(ae,{children:Object(n.jsx)("img",{alt:t.name,src:t.logotype})}),Object(n.jsx)(ie,{children:Object(n.jsx)(H.a,{color:"textSecondary",align:"right",variant:"subtitle2",children:e.delivery})})]})},t.id)}))}))})]}):Object(n.jsx)(oe,{container:!0,justify:"center",alignContent:"center",children:Object(n.jsxs)(H.a,{align:"center",variant:"h4",children:[Object(n.jsx)(te.a,{color:"secondary"}),"Cargando..."]})})},de=a(210),le=a(192),je=R.a.div({padding:"50px"}),ue=Object(R.a)(q.a)({padding:"50px 0 30px"}),be=Object(R.a)(H.a)({width:"95%",borderBottom:"1px solid #6ad76e"}),pe=Object(R.a)(q.a)({padding:"0 50px"}),Oe=Object(R.a)(Z.a)({width:"100%",padding:15,cursor:"pointer"}),he=Object(R.a)(z.a)({height:140,backgroundSize:"contain"}),xe=Object(R.a)(ee.a)({paddingTop:30}),ge=Object(R.a)(q.a)({height:"80vh"}),me=function(){var e=Object(J.h)(),t=Object(l.b)(),a=function(e,a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(ue,{container:!0,alignItems:"center",children:[Object(n.jsx)(de.a,{src:e.icon}),Object(n.jsx)(be,{variant:"h6",children:e.name})]}),Object(n.jsx)(pe,{container:!0,spacing:3,children:a.map((function(e){return Object(n.jsx)(q.a,{container:!0,item:!0,lg:2,md:3,sm:6,xs:12,direction:"column",alignItems:"center",children:Object(n.jsx)(Oe,{onClick:function(){return a=e.description,void t(T({isDialogOpen:{show:!0,dialogMsg:a,dialogTitle:"PRODUCTO"}}));var a},children:Object(n.jsxs)(le.a,{children:[Object(n.jsx)(he,{title:e.name,image:e.picture}),Object(n.jsxs)(xe,{children:[Object(n.jsxs)(H.a,{align:"right",children:[e.price," \u20ac"]}),Object(n.jsx)("div",{children:Object(n.jsx)(H.a,{align:"left",children:e.name})})]})]})})})}))})]})};return e.state?Object(n.jsx)(je,{children:e.state.categories?e.state.categories.map((function(e){return a(e,e.items)})):a(e.state.items[0].category,e.state.items)}):Object(n.jsx)(ge,{container:!0,justify:"center",alignContent:"center",children:Object(n.jsxs)(H.a,{align:"center",variant:"h4",children:[Object(n.jsx)(te.a,{color:"secondary"}),"Cargando..."]})})},ve=function(){return Object(n.jsxs)(J.d,{children:[Object(n.jsx)(J.b,{exact:!0,path:U.home,children:Object(n.jsx)(Y,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.marketList,children:Object(n.jsx)(se,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.marketId,children:Object(n.jsx)(se,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.productList,children:Object(n.jsx)(me,{})}),Object(n.jsx)(J.b,{exact:!0,path:U.categoryProductList,children:Object(n.jsx)(me,{})}),Object(n.jsx)(J.a,{to:U.home})]})},fe=a(193),ke=a(194),ye=a(187),Se=a(209),we=a(186),Ce=Object(R.a)(fe.a)({display:"flex",justifyContent:"space-between"}),De=Object(R.a)(de.a)({height:35,width:35}),Le=function(){var e,t,a,r,c=Object(l.b)(),i=Object(l.c)(B).data,o=function(){var e;return"255,255,255"!==(null===(e=i.marketSelected)||void 0===e?void 0:e.color)?{color:"white"}:{color:"black"}};return Object(n.jsx)(ke.a,{position:"sticky",style:{background:"rgb(".concat(null===(e=i.marketSelected)||void 0===e?void 0:e.color,")")},children:Object(n.jsxs)(Ce,{color:"inherit",children:[Object(n.jsx)("div",{children:i.marketSelected&&Object(n.jsx)(_.a,{variant:"contained",startIcon:Object(n.jsx)(De,{alt:null===(t=i.marketSelected)||void 0===t?void 0:t.name,src:null===(a=i.marketSelected)||void 0===a?void 0:a.icon}),onClick:function(){return c(T({isSideBarOpen:!0}))},children:Object(n.jsx)(H.a,{variant:"h6",children:"CATEGOR\xcdAS"})})}),i.postalCode&&Object(n.jsxs)(ye.a,{children:[Object(n.jsx)(Se.a,{style:o(),htmlFor:"edit-postalCode",children:null===(r=i.markets)||void 0===r?void 0:r.city.toUpperCase()}),Object(n.jsx)(we.a,{color:"secondary",style:o(),id:"edit-postalCode",defaultValue:i.postalCode,required:!0,onChange:function(e){return t=e.target.value,/^[0-9]{5}$/.test(t)&&function(e){c(T({postalCode:e})),c(P())}(e.target.value);var t}})]})]})})},Ie=a(207),Ee=a(188),Me=a(195),Be=a(196),Pe=a(198),Te=a(199),Ae=a(197),Fe=a(200),Ke=Object(R.a)(Ee.a)({background:"#f5f5f5"}),Re=Object(R.a)(Me.a)({"&:hover":{background:"#f5f5f5"},"&:active":{background:"#4fd0531a"}}),_e=R.a.div({display:"flex",flexDirection:"column",padding:"0 8px 0 4px"}),qe=Object(R.a)(H.a)({lineHeight:1,paddingLeft:10}),ze=Object(R.a)(de.a)({height:24,width:24}),He=Object(R.a)(Ie.a)({width:"21.7%"}),Ne=Object(R.a)(Be.a)({padding:"0 7px"}),Ue=function(){var e,t,a,c,i,o,s=Object(J.g)(),d=Object(l.b)(),j=Object(l.c)(B).data,u=Object(r.useState)(!1),b=Object(K.a)(u,2),p=b[0],O=b[1],h=Object(r.useState)(0),m=Object(K.a)(h,2),v=m[0],f=m[1],k=Object(r.useState)(0),y=Object(K.a)(k,2),S=y[0],C=y[1],D=function(e,t,a){var n;t?Promise.resolve(d((n=a,function(){var e=Object(g.a)(x.a.mark((function e(t,a){var r,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L()),r=a(),e.prev=2,e.next=5,w("/company/items",{token:r.appStore.data.token,company_id:null===(c=r.appStore.data.marketSelected)||void 0===c?void 0:c.id,category_id:n});case 5:if("OK"!==(i=e.sent).status){e.next=10;break}return e.abrupt("return",t(I({products:i})));case 10:throw i.error.message;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t(E(e.t0)),t(T({isDialogOpen:{show:!0,dialogMsg:e.t0}}));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()))).then((function(a){var n;return s.push("/tienda/".concat(null===(n=j.marketSelected)||void 0===n?void 0:n.shortcut,"/").concat(e,"/").concat(t),a.payload.products)})):Promise.resolve(d(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a,n){var r,c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(L()),r=n(),t.prev=2,t.next=5,w("/company/featured",{token:r.appStore.data.token,company_id:null===(c=r.appStore.data.marketSelected)||void 0===c?void 0:c.id,category_id:e});case 5:if("OK"!==(i=t.sent).status){t.next=10;break}return t.abrupt("return",a(I({categoryProducts:i})));case 10:throw i.error.message;case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),a(E(t.t0)),a(T({isDialogOpen:{show:!0,dialogMsg:t.t0}}));case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(v))).then((function(t){var a;return s.push("/tienda/".concat(null===(a=j.marketSelected)||void 0===a?void 0:a.shortcut,"/").concat(e),t.payload.categoryProducts)})),d(T({isSideBarOpen:!1}))};return Object(n.jsx)(n.Fragment,{children:"OK"===(null===(e=j.marketCategories)||void 0===e?void 0:e.status)&&Object(n.jsxs)(He,{open:j.isSideBarOpen,onClose:function(){return d(T({isSideBarOpen:!1}))},children:[Object(n.jsx)(ke.a,{position:"sticky",style:{backgroundColor:"rgb(".concat(null===(t=j.marketSelected)||void 0===t?void 0:t.color,")")},children:Object(n.jsxs)(fe.a,{style:function(){var e;return"255,255,255"!==(null===(e=j.marketSelected)||void 0===e?void 0:e.color)?{color:"white"}:{color:"black"}}(),children:[Object(n.jsx)(ze,{alt:null===(a=j.marketSelected)||void 0===a?void 0:a.name,src:null===(c=j.marketSelected)||void 0===c?void 0:c.icon}),Object(n.jsxs)(_e,{children:[Object(n.jsx)(qe,{variant:"h6",children:null===(i=j.marketSelected)||void 0===i?void 0:i.name}),Object(n.jsxs)(qe,{variant:"caption",children:["Comprando en ",j.postalCode]})]}),Object(n.jsx)(_.a,{variant:"contained",onClick:function(){d(T({isSideBarOpen:!1})),s.push(U.marketList)},children:"Cambiar"})]})}),Object(n.jsx)("div",{role:"presentation",children:Object(n.jsx)(Ee.a,{children:null===(o=j.marketCategories)||void 0===o?void 0:o.categories.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Re,{disableRipple:!0,button:!0,onClick:function(){O(!p),f(v===e.id?0:e.id)},children:[Object(n.jsx)(ze,{alt:e.name,src:e.icon}),Object(n.jsx)(Ne,{primary:e.name}),e.id===v&&Object(n.jsx)(Ae.a,{color:"action"})]},e.id),Object(n.jsx)(Pe.a,{variant:"middle"},"divider"+e.id),Object(n.jsx)(Te.a,{in:e.id===v,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ke,{disablePadding:!0,children:[Object(n.jsxs)(Me.a,{button:!0,onClick:function(){D(e.shortcut,"",e.id),C(e.id)},children:[Object(n.jsx)(Be.a,{primary:"Ver toda la secci\xf3n"}),S===e.id&&Object(n.jsx)(Fe.a,{color:"action"})]}),Object(n.jsx)(Pe.a,{variant:"middle"}),e.categories.map((function(t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Me.a,{button:!0,onClick:function(){D(e.shortcut,t.shortcut,t.id),C(t.id)},children:[Object(n.jsx)(ze,{alt:t.name,src:t.icon}),Object(n.jsx)(Ne,{primary:t.name}),t.id===S&&Object(n.jsx)(Fe.a,{color:"action"})]},t.id),Object(n.jsx)(Pe.a,{variant:"middle"})]})}))]})},e.id+1e3)]})}))})})]})})},Je=a(201),Ve=a(202),$e=a(203),Ge=a(204),Qe=a(205),We=function(){var e,t,a=Object(J.g)(),r=Object(l.b)(),c=Object(l.c)(B).data,i=function(){!c.isDialogOpen.dialogTitle&&a.push(U.home),r(T({isDialogOpen:{show:!1,dialogMsg:"",dialogTitle:void 0}}))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Je.a,{open:c.isDialogOpen.show,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Ve.a,{id:"alert-dialog-title",children:null===c||void 0===c||null===(e=c.isDialogOpen)||void 0===e?void 0:e.dialogTitle}),Object(n.jsx)($e.a,{children:Object(n.jsx)(Ge.a,{id:"alert-dialog-description",children:null===c||void 0===c||null===(t=c.isDialogOpen)||void 0===t?void 0:t.dialogMsg})}),Object(n.jsx)(Qe.a,{children:Object(n.jsx)(_.a,{onClick:i,color:"primary",children:"Aceptar"})})]})})},Xe=function(){return Object(n.jsxs)(F,{children:[Object(n.jsx)(Le,{}),Object(n.jsx)(Ue,{}),Object(n.jsx)(We,{}),Object(n.jsx)(ve,{})]})},Ye=document.getElementById("root");Object(c.render)(Object(n.jsx)(Xe,{}),Ye)}},[[146,1,2]]]);
//# sourceMappingURL=main.82f6ae2d.chunk.js.map